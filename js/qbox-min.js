function qbox(a){this.param={title:"\u7eef\u8364\u7cba\u5a11\u581f\u4f05",value:"\u7ead\ue1bc\u757e",cancel:"\u9359\u6828\u79f7",themes:"default_box",mask:false};this.themes={default_box:"#qbmask{position:absolute;background:#ddd;filter:alpha(opacity=50); -moz-opacity:0.5;-khtml-opacity: 0.5; opacity: 0.5;height:100%;width:100%;z-index:999998;top:0;}#qbbox{color:#fff;font-size: 14px;width:98%;}#qbbox h1.qbheader{font-size: 15px;padding:0;line-height: 2;border-bottom: 1px solid #aaa;width: 98%;margin:0 auto;}#qbbox .qbcontent{line-height: 1.8;font-size: 13px;margin-top:10px;}#qbbox .qbbottom{margin:10px 0px 8px;}#qbbox .qbbutton{font-size:12px;display: inline-block;padding: 2px 5px;background: #999;color: #333;cursor: pointer;margin-left:3px;margin-right:3px;}#qbbox .qbbutton.qbsubmit{background: #afafaf}",default_min:"#qbbox{color:#fff;font-size: 14px;min-width: 350px;}#qbbox h1.qbheader{font-size: 15px;padding:0;line-height: 2;border-bottom: 1px solid #aaa;margin:0 auto;}#qbbox .qbcontent{line-height: 1.8;font-size: 13px;margin-top:10px;}#qbbox .qbbottom{margin:10px 0px 8px;}#qbbox .qbbutton{font-size:12px;display: inline-block;padding: 2px 5px;background: #999;color: #333;cursor: pointer;margin-left:3px;margin-right:3px;}#qbbox .qbbutton.qbsubmit{background: #afafaf}"};this.submit=function(b){if(typeof b=="undefined"){b="qbox.close(true)"}if(b==""){return""}if(this.param.value==""){return""}return'<span class="qbbutton qbsubmit" onclick="'+b+'">'+this.param.value+"</span>"};this.cancel=function(b){if(typeof b=="undefined"){b="qbox.close(false)"}if(b==""){return""}if(this.param.cancel==""){return""}return'<span class="qbbutton" onclick="'+b+'">'+this.param.cancel+"</span>"};this.alert=function(c,d,b){if(typeof b=="undefined"){b={}}qbox.callback=d;this.param=this.extend(this.param,b,true);this.box(c,this.submit())};this.confirm=function(c,d,b){if(typeof b=="undefined"){b={}}qbox.callback=d;this.param=this.extend(this.param,b,true);this.box(c,this.submit()+this.cancel())};this.box=function(h,c){var g=document.getElementById("qbbox");if(g!=null){this.close()}if(typeof c=="undefined"||c==""){c=this.submit()}var e="<style>"+this.themes[this.param.themes]+"</style>";e+='<div style="text-align: center;line-height: 1.5;min-height: 60px;"><h1 class="qbheader">'+this.param.title+'</h1><div class="qbcontent">'+h+'</div><div class="qbbottom">'+c+"</div></div>";var d=document.body.clientWidth;var g=document.createElement("div");g.setAttribute("id","qbbox");g.style.position="fixed";g.style.margin="0 auto;";g.style.top="32%";g.style.background="#666";g.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=3,opacity=25,finishOpacity=90";g.style.opacity="0.90";g.style.left="10px";g.style.zIndex="999999";g.innerHTML=e;document.body.appendChild(g);if(this.param.mask){e+='<div class="qbmask"></div>';var f=document.createElement("div");f.setAttribute("id","qbmask");document.body.appendChild(f);f=document.getElementById("qbmask");f.style.height=document.body.offsetHeight+"px"}g=document.getElementById("qbbox");var b=parseInt(g.offsetWidth);g.style.left=((d-b)/2)+"px"};this.extend=function(e,f,d){if(f instanceof Array){for(var c=0,b=f.length;c<b;c++){this.extend(e,f[c],d)}}for(var c in f){if(d||!(c in e)){e[c]=f[c]}}return e};if(typeof a=="object"){this.param=this.extend(this.param,a,true)}}qbox.callback=null;qbox.close=function(a){if(typeof a=="undefined"){a=false}if(qbox.callback!=null){if(qbox.callback.call(qbox,a)){return}}qbox.hide();return true};qbox.hide=function(){var b=document.getElementById("qbbox");if(b!=null){b.remove()}var a=document.getElementById("qbmask");if(a!=null){a.remove()}};
